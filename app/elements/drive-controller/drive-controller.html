<dom-module id="drive-controller">
  <template>
    <style>
    :host {

    }
    </style>
    <drive-list-view id="listView" items="{{items}}" query="{{query}}" loading=[[loading]] on-cancel="_cancel" on-file-selected="_fileSelected" on-more-data="loadMoreData" on-search="_onSearch"></drive-list-view>
    <iron-ajax
      url="https://www.googleapis.com/drive/v3/files"
      params="{{queryParams}}"
      handle-as="json"
      on-response="handleListResponse"
      on-error="handleListError"
      headers="{{authHeaders}}"
      debounce-duration="300" id="query"></iron-ajax>
    <iron-ajax
      url="https://www.googleapis.com/drive/v3/files/[[fileId]]?alt=media"
      handle-as="json"
      on-response="handleDownloadResponse"
      on-error="handleDownloadError"
      headers="{{authHeaders}}"
      debounce-duration="300" id="download"></iron-ajax>
    <user-provider auth-headers="{{authHeaders}}" id="userProvider" authorized="{{appAuthorized}}" not-signed-in="{{notSignedIn}}"></user-provider>
  </template>
  <script src="drive-controller.js"></script>
</dom-module>
