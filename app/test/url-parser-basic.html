<!doctype html>
<html>

<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>search-bar-basic</title>
  <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <script src="../bower_components/web-component-tester/browser.js"></script>
  <!-- Import the element to test -->
  <link rel="import" href="../bower_components/polymer/polymer.html">
  <script src="../scripts/libs/app.url.parser.js"></script>
</head>
<body>
  <script>
  suite('URLParser` tests', function() {

    test('Should parse regular URL with params', function() {
      var url = 'https://sub.domain.com/path/to/resource?param=value&other=value';
      var p = new URLParser(url);
      expect(p.host).to.be.equal('sub.domain.com',
        'Host value is invalid');
      expect(p.path).to.be.equal('/path/to/resource',
        'Path value is invalid');
      expect(p.port).to.be.a('null',
        'Port should be null.');
      expect(p.password).to.be.a('null',
        'Password should be null.');
      expect(p.user).to.be.a('null',
        'User should be null.');
      expect(p.paramsList).to.be.a('set',
        'Params should be a set.');
      expect(p.paramsList.size).to.be.equal(2,
        'Params size is invalid');
    });

    test('Should parse URL with username and password', function() {
      var url = 'https://uid:passwd@sub.domain.com/path/to/resource?param=value&other=value';
      var p = new URLParser(url);
      expect(p.authority).to.be.equal('uid:passwd@sub.domain.com',
        'Authority value is invalid');
      expect(p.host).to.be.equal('sub.domain.com',
        'Host value is invalid');
      expect(p.path).to.be.equal('/path/to/resource',
        'Path value is invalid');
      expect(p.port).to.be.a('null',
        'Port should be null.');
      expect(p.password).to.be.equal('passwd',
        'Password should be of a value of "passwd".');
      expect(p.user).to.be.equal('uid',
        'User should be of a value of "uid".');
      expect(p.paramsList).to.be.a('set',
        'Params should be a set.');
      expect(p.paramsList.size).to.be.equal(2,
        'Params size is invalid');
    });
  });
  </script>
</dody>
